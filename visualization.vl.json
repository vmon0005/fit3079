{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 800,
  "height": 450,
  "title": "Major Music Festivals in Australia",
  "projection": {"type": "mercator"},
  "layer": [
    {
      "data": {
        "url": "https://raw.githubusercontent.com/vmon0005/fit3079/refs/heads/main/ne_10m_admin_1_states_provinces.json",
        "format": {
          "type": "topojson",
          "feature": "ne_10m_admin_1_states_provinces"
        }
      },
      "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
    },
    {
      "data": {
        "url": "https://raw.githubusercontent.com/vmon0005/fit3079/refs/heads/main/big_festival_list_genres.csv",
        "format": {"type": "csv"}
      },
      "transform": [
        {"filter": "genreFilter === null || datum.Genre === genreFilter"}
      ],
      "mark": {"type": "circle", "tooltip": true},
      "encoding": {
        "longitude": {"field": "Longitude", "type": "quantitative"},
        "latitude": {"field": "Latitude", "type": "quantitative"},
        "size": {"value": 100},
        "tooltip": [
          {"field": "Festival Name", "type": "nominal"},
          {"field": "State", "type": "nominal"}
        ],
        "color": {
          "field": "Genre",
          "type": "nominal",
          "title": "Festival Genre",
          "legend": {"title": "Festival Genre"},
          "scale": {
            "domain": [
              "Rock",
              "Jazz",
              "Electronic",
              "Country",
              "Folk",
              "Multiple Genres",
              "Other"
            ],
            "range": [
              "#66c2a5",
              "#fc8d62",
              "#8da0cb",
              "#ffd92f",
              "#a6d854",
              "#e78ac3",
              "#e5c494"
            ]
          }
        }
      }
    },
    {
      "data": {
        "graticule": {"step": [5, 5], "extent": [[110, -45], [155, -10]]}
      },
      "mark": {"type": "geoshape", "stroke": "lightgray"}
    }
  ],
  "params": [
    {
      "name": "genreFilter",
      "value": null,
      "bind": {
        "input": "select",
        "options": [
          null,
          "Rock",
          "Jazz",
          "Electronic",
          "Country",
          "Folk",
          "Multiple Genres",
          "Other"
        ],
        "labels": [
          "All Genres",
          "Rock",
          "Jazz",
          "Electronic",
          "Country",
          "Folk",
          "Multiple Genres",
          "Other"
        ],
        "name": "Select Genre: "
      }
    }
  ],
  "config": {"view": {"stroke": "transparent"}}
}