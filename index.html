<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Major Music Festivals in Australia</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.3.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.0"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        h1 {
            text-align: center;
        }
        #vis {
            margin: 0 auto;
            width: 800px;
            height: 450px;
        }
    </style>
</head>
<body>
    <h1>Locations of Major Music Festivals in Australia</h1>
    <div id="vis"></div>
    <script>
        const spec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
          "width": 800,
          "height": 450,
          "title": "Major Music Festivals in Australia",
          "projection": {"type": "mercator"},
          "layer": [
            {
              "data": {
                "url": "https://raw.githubusercontent.com/vmon0005/fit3079/refs/heads/main/ne_10m_admin_1_states_provinces.json",
                "format": {"type": "topojson", "feature": "ne_10m_admin_1_states_provinces"}
              },
              "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
            },
            {
              "data": {
                "url": "https://raw.githubusercontent.com/vmon0005/fit3079/refs/heads/main/big_festival_list_genres.csv",  // Change this to your actual CSV path
                "format": {
                  "type": "csv"
                }
              },
              "mark": {
                "type": "circle",
                "tooltip": true
              },

              "encoding": {
                "longitude": {"field": "Longitude", "type": "quantitative"},
                "latitude": {"field": "Latitude", "type": "quantitative"},
                "size": {"value": 100},  
                "tooltip": [
                  {"field": "Festival Name", "type": "nominal"},
                  {"field": "State", "type": "nominal"}
                ],
                "color": {
                 "field": "Genre",
                 "type": "nominal",
                  "title": "Festival Genre",
                 "legend": {
                 "title": "Festival Genre"},
  "scale": {
    "domain": ["Rock", "Jazz", "Electronic","Country","Folk","Multiple Genres","Other"], 
    "range": ["#66c2a5", "#fc8d62", "#8da0cb", "#ffd92f","#a6d854","#e78ac3","#e5c494"]
  },
                },
              }
            },
            {
              "data": {
                "graticule": {
                  "step": [5,5],
                  "extent": [[110, -45], [155, -10]]
                }
              },
              "mark": {"type": "geoshape", "stroke": "lightgray"}
            }
          ],
          "config": {
    "view": {
      "stroke": "transparent", 
      "zoom": true,            
      "translate": true        
    }
  }
        };
        

        vegaEmbed('#vis', spec).then(result => {
            // Visualization successfully rendered
        }).catch(console.error);
    </script>
</body>
</html>
    
